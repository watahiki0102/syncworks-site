# SyncWorks 全システム ワイヤーフレーム

## 概要
SyncWorks引越しマッチングサービスの全画面構成とユーザーインターフェース設計書

---

## 1. メイン配車管理画面 (`/admin/dispatch`)

### ヘッダー部分
```
┌─────────────────────────────────────────────────────────────────┐
│ 配車管理                                    [トップに戻る]      │
│ トラックの稼働スケジュール管理                                    │
└─────────────────────────────────────────────────────────────────┘
```

### タブナビゲーション
```
┌─────────────────────────────────────────────────────────────────┐
│ [配車カレンダー] [トラック登録] [トラック管理]                   │
└─────────────────────────────────────────────────────────────────┘
```

---

## 2. 配車カレンダータブ

### 2.1 カレンダーヘッダー
```
┌─────────────────────────────────────────────────────────────────┐
│ 配車スケジュール                                                │
│                                                                 │
│ [月] [週] [日] [作業者割り当て]    [ステータスフィルター▼]      │
│                                   [全て] [確定] [見積]          │
│                                                                 │
│ 凡例: ✅確定 ⏳未確定 🟢50%未満 🟡50%以上 🔴80%以上            │
└─────────────────────────────────────────────────────────────────┘
```

### 2.2 月ビュー
```
┌─────────────────────────────────────────────────────────────────┐
│           2025年8月                     [前月] [翌月]           │
├─────────────────────────────────────────────────────────────────┤
│ 日  月  火  水  木  金  土                                      │
├─────────────────────────────────────────────────────────────────┤
│     1   2   3   4   5   6                                      │
│     │   │   │   │   │   │                                      │
│ 7   8   9  10  11  12  13                                      │
│ │   │   │   │   │   │   │                                      │
│14  15  16  17  18  19  20                                      │
│ │   │ ✅2件 │   │   │   │                                      │
│21  22  23  24  25  26  27                                      │
│ │   │   │   │ ⏳1件  │   │                                      │
│28  29  30  31                                                  │
│ │   │   │   │                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 2.3 週ビュー（ガントチャート風）
```
┌─────────────────────────────────────────────────────────────────┐
│     8月15日-8月21日                     [前週] [翌週]           │
├─────────────────────────────────────────────────────────────────┤
│時間   │ 月15 │ 火16 │ 水17 │ 木18 │ 金19 │ 土20 │ 日21 │        │
├─────────────────────────────────────────────────────────────────┤
│ 9:00  │  ✅  │  ⏳  │      │      │  ✅  │      │      │        │
│       │田中  │佐藤  │      │      │山田  │      │      │        │
├─────────────────────────────────────────────────────────────────┤
│11:00  │      │  ✅  │  ⏳  │      │      │      │      │        │
│       │      │鈴木  │高橋  │      │      │      │      │        │
├─────────────────────────────────────────────────────────────────┤
│13:00  │  ✅  │      │      │  ✅  │      │      │      │        │
│       │田中  │      │      │伊藤  │      │      │      │        │
└─────────────────────────────────────────────────────────────────┘
```

### 2.4 日ビュー
```
┌─────────────────────────────────────────────────────────────────┐
│ 8月17日                    総計対応件数: 5件                     │
│ 2トンショート: 3件 4トンロング: 2件                             │
│                                                                 │
│ 表示期間: [08:00] ～ [20:00] [リセット]                         │
├─────────────────────────────────────────────────────────────────┤
│時間帯 │ 08 │ 09 │ 10 │ 11 │ 12 │ 13 │ 14 │ 15 │ 16 │ 17 │    │
├─────────────────────────────────────────────────────────────────┤
│2トン  │██████│██████│██████│      │      │██████│      │      │    │
│ショート│田中✅│田中✅│佐藤⏳│      │      │山田✅│      │      │    │
│      ││││││││││││││││││││      │      ││││││││      │      │    │
├─────────────────────────────────────────────────────────────────┤
│4トン  │      │██████│██████│██████│      │      │██████│      │    │
│ロング │      │鈴木✅│鈴木✅│高橋⏳│      │      │伊藤✅│      │    │
│      │      ││││││││││││││││││││      │      ││││││││      │    │
└─────────────────────────────────────────────────────────────────┘

案件詳細:
┌─────────────────────────────────────────────────────────────────┐
│ ✅ 田中一郎様 09:00-11:00 [編集]                                │
│    発地: 東京都新宿区 → 着地: 東京都渋谷区                      │
│    2トンショート / 300kg / 50pt                                │
├─────────────────────────────────────────────────────────────────┤
│ ⏳ 佐藤花子様 10:00-11:00 [編集]                                │
│    発地: 東京都中野区 → 着地: 東京都杉並区                      │
│    2トンショート / 400kg / 75pt                                │
└─────────────────────────────────────────────────────────────────┘
```

### 2.5 作業者割り当てビュー
```
┌─────────────────────────────────────────────────────────────────┐
│ 作業者割り当て管理  [選択日: 2025/08/17]                        │
├─────────────────────────────────────────────────────────────────┤
│ トラック     │ 09-11 │ 11-13 │ 13-15 │ 15-17 │ 17-19 │         │
├─────────────────────────────────────────────────────────────────┤
│ 2トンショート│[田中] │[佐藤] │[山田] │  空き  │  空き  │         │
│              │ 運転手│ 運転手│ 運転手│       │       │         │
│              │[鈴木] │[高橋] │       │       │       │         │
│              │ 作業員│ 作業員│       │       │       │         │
├─────────────────────────────────────────────────────────────────┤
│ 4トンロング  │  空き  │[伊藤] │[渡辺] │  空き  │  空き  │         │
│              │       │ 運転手│ 運転手│       │       │         │
│              │       │[田村] │[加藤] │       │       │         │
│              │       │ 作業員│ 作業員│       │       │         │
└─────────────────────────────────────────────────────────────────┘
```

---

## 3. トラック稼働状況表示

### 3.1 トラック一覧カード
```
┌─────────────────────────────────────────────────────────────────┐
│ 🚚 トラック稼働状況                                             │
│ 登録台数: 5台 | 稼働中: 4台 | 整備中: 1台                       │
├─────────────────────────────────────────────────────────────────┤
│┌──────────────────┐ ┌──────────────────┐ ┌──────────────────┐│
││ 2トンショート    │ │ 4トンロング      │ │ 1トン軽トラ      ││
││ 品川500あ1234    │ │ 品川500い5678    │ │ 品川500う9012    ││
││ [🟢稼働中] 本日3件│ │ [🟢稼働中] 本日2件│ │ [🔧整備中] 本日0件││
││                  │ │                  │ │                  ││
││ 📦 1,000kg       │ │ 📦 2,000kg       │ │ 📦 500kg         ││
││ 🚛 2tショート    │ │ 🚛 4t            │ │ 🚛 軽トラ        ││
││                  │ │                  │ │                  ││
││ 次回稼働予定:    │ │ 次回稼働予定:    │ │ 次回稼働予定:    ││
││ ✅ 8/18 09:00-11:00│ │ ⏳ 8/18 10:00-12:00│ │ 🔧 整備作業中    ││
││ 👤 田中一郎様    │ │ 👤 山田次郎様    │ │                  ││
│└──────────────────┘ └──────────────────┘ └──────────────────┘│
└─────────────────────────────────────────────────────────────────┘
```

---

## 4. 案件詳細管理

### 4.1 案件一覧
```
┌─────────────────────────────────────────────────────────────────┐
│ 📋 案件詳細                                                     │
│ 引越し案件の管理・編集                                          │
├─────────────────────────────────────────────────────────────────┤
│ ┌─ 田中一郎 🆕新規登録 ─────────────────────────── [▼詳細を表示]┐│
│ │ 2025/08/17 📋 手動登録 📞 090-1234-5678                     ││
│ │ 📊 100pt 💰 ¥50,000                                        ││
│ │ [🟡未割り当て] [📋仮案件] [🚫キャンセル]                    ││
│ │                                                             ││
│ │ 📦 800kg 📍 東京都新宿区 🏁 東京都渋谷区                    ││
│ │ 推奨: [2tショート] [軽トラ]     🚚 1台割当済 [+トラック割当] ││
│ └─────────────────────────────────────────────────────────────┘│
├─────────────────────────────────────────────────────────────────┤
│ ┌─ 佐藤花子 ──────────────────────────────── [▲詳細を閉じる]┐│
│ │ 2025/08/17 📋 シンクワーク 📞 080-9876-5432                 ││
│ │ 📊 150pt 💰 ¥75,000                                        ││
│ │ [🔵割り当て済み] [✅確定] [📝本案件]                       ││
│ │                                                             ││
│ │ 📦 600kg 📍 東京都中野区 🏁 東京都杉並区                    ││
│ │                                                             ││
│ │ 連絡先情報:                                                 ││
│ │ 📧 sato@example.com 📞 080-9876-5432                       ││
│ │                                                             ││
│ │ 荷物リスト:                                                 ││
│ │ [ワードローブ] [机] [本棚]                                  ││
│ │                                                             ││
│ │ 追加サービス:                                               ││
│ │ [保険]                                                      ││
│ │                                                             ││
│ │ 割り当てトラック:                                           ││
│ │ 2トンショート 14:00-17:00 (600kg) [削除]                   ││
│ └─────────────────────────────────────────────────────────────┘│
└─────────────────────────────────────────────────────────────────┘
```

---

## 5. トラック管理タブ

### 5.1 トラック管理画面
```
┌─────────────────────────────────────────────────────────────────┐
│ トラック管理                              [+ 新規登録]          │
├─────────────────────────────────────────────────────────────────┤
│ トラック名 │ナンバー  │容量   │車種 │車検期限 │ステータス│操作 │
├─────────────────────────────────────────────────────────────────┤
│2トンショート│品川500あ1234│1,000kg│2t   │2024/12/31│利用可 │[✏][🗑]│
│4トンロング │品川500い5678│2,000kg│4t   │2024/11/30│利用可 │[✏][🗑]│
│1トン軽トラ │品川500う9012│500kg  │軽トラ│2024/10/31│整備中 │[✏][🗑]│
└─────────────────────────────────────────────────────────────────┘
```

### 5.2 トラック登録・編集モーダル
```
┌─────────────────────────────────────────────────────────────────┐
│ トラック新規登録                                         [✕]   │
├─────────────────────────────────────────────────────────────────┤
│ トラック名 *                                                   │
│ [例: トラックA                                              ]  │
│                                                                 │
│ ナンバー *                                                     │
│ [例: 品川500 あ 1234                                        ]  │
│                                                                 │
│ 容量 (kg) *                                                    │
│ [例: 4000                                               ] kg   │
│                                                                 │
│ 車種 *                                                         │
│ [車種を選択        ▼] (2t, 4t, 8t, 10t, 20t, 25t)           │
│                                                                 │
│ 車検有効期限                                                   │
│ [2024-12-31                                                 ]  │
│                                                                 │
│ ステータス                                                     │
│ [利用可           ▼] (利用可, 整備中, 非稼働)                 │
│                                                                 │
│                                          [キャンセル] [登録]   │
└─────────────────────────────────────────────────────────────────┘
```

---

## 6. モーダル・ダイアログ

### 6.1 スケジュール詳細モーダル
```
┌─────────────────────────────────────────────────────────────────┐
│ スケジュール詳細                                         [✕]   │
├─────────────────────────────────────────────────────────────────┤
│ 基本情報                                                       │
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ トラック: 2トンショート    日付: 2025年8月17日              │ │
│ │ 時間: 09:00 - 11:00       作業区分: 積込                   │ │
│ └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│ 顧客情報                                                       │
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ 顧客名: 田中一郎          契約ステータス: ✅ 確定          │ │
│ └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│ 荷物情報                                                       │
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ 引越し容量: 300kg         ポイント数: 50pt                 │ │
│ └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│ 場所情報                                                       │
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ 発地: 東京都新宿区西新宿1-1-1                               │ │
│ │ 終了地点: 東京都渋谷区渋谷2-2-2                             │ │
│ └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│ 備考                                                           │
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ 引っ越し作業                                                │ │
│ └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│                                    [編集] [削除] [閉じる]     │
└─────────────────────────────────────────────────────────────────┘
```

### 6.2 トラック割り当てモーダル
```
┌─────────────────────────────────────────────────────────────────┐
│ トラック割り当て - 田中一郎様                            [✕]   │
├─────────────────────────────────────────────────────────────────┤
│ 案件詳細:                                                      │
│ 日程: 2025/08/17 | 容量: 800kg | ポイント: 100pt              │
│ 発着: 東京都新宿区 → 東京都渋谷区                              │
│                                                                 │
│ 推奨トラック: [2tショート] [軽トラ]                            │
│                                                                 │
│ 利用可能トラック:                                              │
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ ☑ 2トンショート (品川500あ1234)                            │ │
│ │   容量: 1,000kg | 空き時間: 09:00-19:00                    │ │
│ │   開始時間: [09:00] 終了時間: [11:00]                      │ │
│ │   作業タイプ: [積込 ▼]                                     │ │
│ └─────────────────────────────────────────────────────────────┘ │
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ ☐ 4トンロング (品川500い5678)                              │ │
│ │   容量: 2,000kg | 空き時間: 13:00-19:00                    │ │
│ │   ⚠ 重複: 10:00-12:00 (山田次郎様・仮案件)               │ │
│ └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│                                          [キャンセル] [割り当て]│
└─────────────────────────────────────────────────────────────────┘
```

---

## 7. レスポンシブ対応（モバイル）

### 7.1 モバイル月ビュー（縦画面）
```
┌─────────────────────────┐
│ 配車カレンダー    [≡]  │
├─────────────────────────┤
│ [月][週][日][作業者]    │
│                         │
│ 2025年8月    [<] [>]    │
├─────────────────────────┤
│ 日 月 火 水 木 金 土     │
├─────────────────────────┤
│     1  2  3  4  5  6    │
│ 7  8  9 10 11 12 13     │
│14 15 16 17 18 19 20     │
│      ✅2  ⏳1           │
│21 22 23 24 25 26 27     │
│28 29 30 31              │
└─────────────────────────┘
```

### 7.2 モバイル日ビュー
```
┌─────────────────────────┐
│ 8月17日 総計: 5件 [≡]  │
├─────────────────────────┤
│ [08] ～ [20] [リセット] │
├─────────────────────────┤
│ 2トンショート          │
│ ████████████████       │
│ 09:00-11:00 田中✅     │
│ 10:00-11:00 佐藤⏳     │
│ 13:00-15:00 山田✅     │
├─────────────────────────┤
│ 4トンロング            │
│ ████████████████       │
│ 10:00-12:00 鈴木✅     │
│ 13:00-15:00 高橋✅     │
├─────────────────────────┤
│ 案件詳細               │
│ ┌─────────────────────┐ │
│ │✅田中一郎 09:00-11:00│ │
│ │新宿区→渋谷区  [編集]│ │
│ └─────────────────────┘ │
│ ┌─────────────────────┐ │
│ │⏳佐藤花子 10:00-11:00│ │
│ │中野区→杉並区  [編集]│ │
│ └─────────────────────┘ │
└─────────────────────────┘
```

---

## 8. 状態管理・フィルタリング

### 8.1 ステータスフィルター
```
┌─────────────────────────────────────────────────────────────────┐
│ フィルター: [全て ▼] [確定のみ] [見積のみ]                       │
│                                                                 │
│ 表示中: 確定案件 12件 / 全体 20件                               │
└─────────────────────────────────────────────────────────────────┘
```

### 8.2 検索・ソート機能
```
┌─────────────────────────────────────────────────────────────────┐
│ 🔍 [顧客名・電話番号で検索...                              ]    │
│                                                                 │
│ ソート: [日時順 ▼] [顧客名順] [ステータス順] [容量順]           │
└─────────────────────────────────────────────────────────────────┘
```

---

## 9. データフロー図

```
[ユーザー入力]
      ↓
[ローカルストレージ] ← → [状態管理(useState)]
      ↓                        ↓
[データ検証・変換]        [UI更新・レンダリング]
      ↓                        ↓
[スケジュール計算]        [カレンダー表示]
      ↓                        ↓
[重複チェック・警告]      [モーダル・フォーム]
```

---

## 10. 技術仕様

### 10.1 使用技術
- **フレームワーク**: Next.js 14 (App Router)
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS
- **状態管理**: React useState/useEffect
- **データ永続化**: localStorage
- **UI コンポーネント**: カスタムコンポーネント + Lucide アイコン

### 10.2 主要機能
- リアルタイム スケジュール管理
- 重複チェック・容量計算
- 多種ビューモード（月/週/日/作業者）
- フィルタリング・検索
- レスポンシブ対応
- モーダルベース編集

### 10.3 パフォーマンス考慮
- メモ化が必要な重い計算処理
- 仮想スクロール（大量データ対応）
- 遅延ローディング

---

## 改版履歴
- v1.0 (2025-01-17): 初版作成
- 作成者: Claude Code Review System
- 参照: src/app/admin/dispatch/, src/components/DispatchCalendar.tsx